{"ast":null,"code":"import _BackTop from \"antd/lib/back-top\";\nimport _classCallCheck from \"/Users/app/code/boke-pc-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/app/code/boke-pc-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/app/code/boke-pc-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/app/code/boke-pc-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/app/code/boke-pc-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport VisitorList from '../../components/VisitorList';\nimport PostBody from \"../../components/postBody\";\nimport Layout from '../../components/Layout';\nimport Header from '../../components/Header';\nimport InfoThumdsIcon from '../../components/others/InfoThumdsIcon';\nimport { connect } from 'react-redux';\nimport httpAgent from '../../httpAgent';\nimport React from 'React';\nimport { allAgentInfo } from 'zgl-utils-js';\nimport HotArtcle from '../../components/HotArtcle';\n\nvar Info = /*#__PURE__*/function (_React$Component) {\n  _inherits(Info, _React$Component);\n\n  var _super = _createSuper(Info);\n\n  function Info(props) {\n    var _this;\n\n    _classCallCheck(this, Info);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      initialReduxState: _this.props.initialReduxState,\n      slug: _this.props.slug,\n      com_user_info: _this.props.com_user_info,\n      comUserInfo: _this.props.comUserInfo\n    };\n    return _this;\n  }\n\n  _createClass(Info, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var params = {\n        ip: this.state.initialReduxState.user_ip,\n        agent: allAgentInfo()\n      };\n      httpAgent({\n        url: '/user/getUserInfo',\n        method: 'post',\n        params: params\n      }).then(function (res) {\n        var userinfo = {};\n\n        if (res.code == 0) {\n          userinfo = res.data;\n        }\n\n        httpAgent({\n          url: '/user/addUserView',\n          method: 'post',\n          params: {\n            ip: _this2.state.initialReduxState.user_ip,\n            articleId: _this2.state.initialReduxState.info_Article_Vo.data.id,\n            userid: res.data.id\n          }\n        });\n\n        _this2.state.comUserInfo(userinfo);\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var com_user_info = this.state.com_user_info;\n\n      if (JSON.stringify(nextProps.com_user_info) != JSON.stringify(com_user_info)) {\n        this.setState({\n          com_user_info: nextProps.com_user_info\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state$initialRe = this.state.initialReduxState,\n          info_Article_Vo = _this$state$initialRe.info_Article_Vo,\n          info_view_list = _this$state$initialRe.info_view_list,\n          com_label_integer = _this$state$initialRe.com_label_integer,\n          com_sort_list = _this$state$initialRe.com_sort_list,\n          html_head_info = _this$state$initialRe.html_head_info,\n          au_in_for = _this$state$initialRe.au_in_for,\n          user_ip = _this$state$initialRe.user_ip,\n          com_hot_article = _this$state$initialRe.com_hot_article;\n      var com_user_info = this.state.com_user_info;\n      return /*#__PURE__*/_jsxs(Layout, {\n        html_head_info: html_head_info,\n        children: [/*#__PURE__*/_jsx(Header, {\n          com_sort_list: com_sort_list.data,\n          com_label_integer: com_label_integer\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"jsx-2083810217\" + \" \" + \"bodyWrap\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"jsx-2083810217\" + \" \" + \"homeWrap\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-2083810217\",\n              children: /*#__PURE__*/_jsx(PostBody, {\n                slug: this.state.slug,\n                content: info_Article_Vo.data.html,\n                au_in_for: au_in_for,\n                user_ip: user_ip,\n                com_user_info: com_user_info\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-2083810217\" + \" \" + \"homeRight\",\n              children: [/*#__PURE__*/_jsx(VisitorList, {\n                view_list: info_view_list === null || info_view_list === void 0 ? void 0 : info_view_list.data\n              }), /*#__PURE__*/_jsx(HotArtcle, {\n                title: \"\\u63A8\\u8350\\u6587\\u7AE0\",\n                com_hot_article: com_hot_article === null || com_hot_article === void 0 ? void 0 : com_hot_article.data\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(InfoThumdsIcon, {\n            thumdsStatus: info_Article_Vo.data.thumdsStatus,\n            thumdsSum: info_Article_Vo.data.thumdsSum,\n            articleId: info_Article_Vo.data.id,\n            ip: user_ip\n          }), /*#__PURE__*/_jsx(_BackTop, {\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"jsx-2083810217\",\n              children: /*#__PURE__*/_jsx(\"svg\", {\n                t: \"1609515943321\",\n                viewBox: \"0 0 1024 1024\",\n                version: \"1.1\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                \"p-id\": \"4562\",\n                width: \"40\",\n                height: \"40\",\n                className: \"jsx-2083810217\" + \" \" + \"icon\",\n                children: /*#__PURE__*/_jsx(\"path\", {\n                  d: \"M450 226c37.16-33.787 94.508-31.666 129 5l319 344c8.957 9.352 14 22.087 14 35 0 29.03-23.404 52.012-52 52H733a8 8 0 0 0-8 8v150c0 70.692-57.308 128-128 128H427c-70.692 0-128-57.308-128-128V670a8 8 0 0 0-8-8H164c-13.106 0.012-25.431-4.704-35-13v-1c-21.566-19.037-22.505-51.627-3-73l318-343c1.757-1.842 3.36-3.467 5-5zM840 77c17.47 0 32 14.55 32 33 0 17.45-14.53 32-32 32H185c-18.47 0-33-14.55-33-32 0-18.45 14.53-33 33-33z\",\n                  fill: \"#222238\",\n                  \"p-id\": \"4563\",\n                  className: \"jsx-2083810217\"\n                })\n              })\n            })\n          }), /*#__PURE__*/_jsx(_JSXStyle, {\n            id: \"2083810217\",\n            children: [\".homeRight.jsx-2083810217{width:260px;}\"]\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return Info;\n}(React.Component);\n\n;\n\nfunction mapStateToProps(state) {\n  var com_user_info = state.com_user_info;\n  return {\n    com_user_info: com_user_info\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    comUserInfo: function comUserInfo(userinfo) {\n      dispatch({\n        type: 'comUserInfo',\n        userinfo: userinfo\n      });\n    }\n  };\n}\n\nexport var __N_SSP = true;\nexport default connect(mapStateToProps, mapDispatchToProps)(Info);","map":null,"metadata":{},"sourceType":"module"}