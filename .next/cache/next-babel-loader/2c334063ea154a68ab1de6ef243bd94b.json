{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { connect } from 'react-redux';\nimport LeavingMessage from '../components/LeavingMessage';\nimport VisitorList from '../components/VisitorList';\nimport ArticleList from '../components/ArticleList';\nimport initializeStore from '../store/store';\nimport httpServer from '../httpServer';\nimport httpAgent from '../httpAgent';\nimport Layout from '../components/Layout';\nimport React from 'React';\nimport Header from '../components/Header';\nimport styles from '../styles/post.module.less';\nimport ArticleTrees from '../components/others/ArticleTrees';\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    httpAgent({\n      url: '/user/getUserView',\n      method: 'post',\n      params: {}\n    }).then(res => {\n      this.setState({\n        post_view_list: res\n      });\n    });\n  }\n\n  render() {\n    const {\n      post_article_list,\n      post_message_list,\n      com_sort_list,\n      html_head_info,\n      com_label_integer,\n      post_view_list,\n      com_class_list,\n      user_ip\n    } = this.props.initialReduxState;\n    return /*#__PURE__*/_jsxs(Layout, {\n      html_head_info: html_head_info,\n      children: [/*#__PURE__*/_jsx(Header, {\n        com_sort_list: com_sort_list.data,\n        com_label_integer: com_label_integer\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.homeWrap,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.homeLeft,\n          children: /*#__PURE__*/_jsx(ArticleList, {\n            article_list: post_article_list.data.list\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.homeRight,\n          children: [/*#__PURE__*/_jsx(VisitorList, {\n            view_list: post_view_list === null || post_view_list === void 0 ? void 0 : post_view_list.data\n          }), /*#__PURE__*/_jsx(LeavingMessage, {\n            message_list: post_message_list === null || post_message_list === void 0 ? void 0 : post_message_list.data\n          }), /*#__PURE__*/_jsx(ArticleTrees, {\n            com_class_list: com_class_list.data,\n            user_ip: user_ip\n          })]\n        })]\n      })]\n    });\n  }\n\n}\n\nexport async function getServerSideProps(context) {\n  const reduxStore = initializeStore();\n  const initialReduxState = await httpServer({\n    url: '/api/post',\n    method: 'post',\n    params: {\n      sortId: Number(context.query.id)\n    }\n  });\n  return {\n    props: {\n      initialReduxState: initialReduxState.data\n    }\n  };\n}\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}