{"ast":null,"code":"export default (async ({\n  url,\n  method,\n  params\n}) => {\n  function getBrowserInfo() {\n    var agent = navigator.userAgent.toLowerCase();\n    var regStr_ie = /msie [\\d.]+;/gi;\n    var regStr_ff = /firefox\\/[\\d.]+/gi;\n    var regStr_chrome = /chrome\\/[\\d.]+/gi;\n    var regStr_saf = /safari\\/[\\d.]+/gi; //IE\n\n    if (agent.indexOf(\"msie\") > 0) {\n      return agent.match(regStr_ie);\n    } //firefox\n\n\n    if (agent.indexOf(\"firefox\") > 0) {\n      return agent.match(regStr_ff);\n    } //Safari\n\n\n    if (agent.indexOf(\"safari\") > 0 && agent.indexOf(\"chrome\") < 0) {\n      return agent.match(regStr_saf);\n    } //Chrome\n\n\n    if (agent.indexOf(\"chrome\") > 0) {\n      return agent.match(regStr_chrome);\n    }\n  } //（2）然后获取版本号\n\n\n  var browser = getBrowserInfo(); //返回的是个长度为1的数组，根据自己的需要进行转换\n\n  var verinfo = (browser + \"\").replace(/[^0-9.]/ig, \"\");\n  console.log(browser);\n  const res = await fetch('http://127.0.0.1:7000' + url, {\n    headers: {\n      'content-type': 'application/json',\n      'api-url': url,\n      'api-method': method\n    },\n    method: 'POST',\n    body: JSON.stringify(params)\n  });\n  return await res.json();\n});","map":{"version":3,"sources":["/Users/app/code/boke-pc-web/httpServer.js"],"names":["url","method","params","getBrowserInfo","agent","navigator","userAgent","toLowerCase","regStr_ie","regStr_ff","regStr_chrome","regStr_saf","indexOf","match","browser","verinfo","replace","console","log","res","fetch","headers","body","JSON","stringify","json"],"mappings":"AAAA,gBAAe,OAAO;AAClBA,EAAAA,GADkB;AACbC,EAAAA,MADa;AACLC,EAAAA;AADK,CAAP,KAET;AAEF,WAASC,cAAT,GACJ;AACA,QAAIC,KAAK,GAAGC,SAAS,CAACC,SAAV,CAAoBC,WAApB,EAAZ;AAEA,QAAIC,SAAS,GAAG,gBAAhB;AACA,QAAIC,SAAS,GAAG,mBAAhB;AACA,QAAIC,aAAa,GAAG,kBAApB;AACA,QAAIC,UAAU,GAAG,kBAAjB,CANA,CAOA;;AACA,QAAGP,KAAK,CAACQ,OAAN,CAAc,MAAd,IAAwB,CAA3B,EACA;AACA,aAAOR,KAAK,CAACS,KAAN,CAAYL,SAAZ,CAAP;AACC,KAXD,CAaA;;;AACA,QAAGJ,KAAK,CAACQ,OAAN,CAAc,SAAd,IAA2B,CAA9B,EACA;AACA,aAAOR,KAAK,CAACS,KAAN,CAAYJ,SAAZ,CAAP;AACC,KAjBD,CAmBA;;;AACA,QAAGL,KAAK,CAACQ,OAAN,CAAc,QAAd,IAA0B,CAA1B,IAA+BR,KAAK,CAACQ,OAAN,CAAc,QAAd,IAA0B,CAA5D,EACA;AACA,aAAOR,KAAK,CAACS,KAAN,CAAYF,UAAZ,CAAP;AACC,KAvBD,CAyBA;;;AACA,QAAGP,KAAK,CAACQ,OAAN,CAAc,QAAd,IAA0B,CAA7B,EACA;AACA,aAAOR,KAAK,CAACS,KAAN,CAAYH,aAAZ,CAAP;AACC;AAEA,GAlCK,CAmCN;;;AACA,MAAII,OAAO,GAAGX,cAAc,EAA5B,CApCM,CAoC0B;;AAChC,MAAIY,OAAO,GAAG,CAACD,OAAO,GAAC,EAAT,EAAaE,OAAb,CAAqB,WAArB,EAAiC,EAAjC,CAAd;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AAEI,QAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,0BAA0BpB,GAA3B,EAAgC;AACnDqB,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,iBAAWrB,GAFJ;AAGP,oBAAcC;AAHP,KAD0C;AAMnDA,IAAAA,MAAM,EAAE,MAN2C;AAOnDqB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAetB,MAAf;AAP6C,GAAhC,CAAvB;AASA,SAAO,MAAMiB,GAAG,CAACM,IAAJ,EAAb;AACH,CArDD","sourcesContent":["export default async ({\n    url, method, params\n}) => {\n\n    function getBrowserInfo()\n{\nvar agent = navigator.userAgent.toLowerCase() ;\n \nvar regStr_ie = /msie [\\d.]+;/gi ;\nvar regStr_ff = /firefox\\/[\\d.]+/gi\nvar regStr_chrome = /chrome\\/[\\d.]+/gi ;\nvar regStr_saf = /safari\\/[\\d.]+/gi ;\n//IE\nif(agent.indexOf(\"msie\") > 0)\n{\nreturn agent.match(regStr_ie) ;\n}\n \n//firefox\nif(agent.indexOf(\"firefox\") > 0)\n{\nreturn agent.match(regStr_ff) ;\n}\n \n//Safari\nif(agent.indexOf(\"safari\") > 0 && agent.indexOf(\"chrome\") < 0)\n{\nreturn agent.match(regStr_saf) ;\n}\n \n//Chrome\nif(agent.indexOf(\"chrome\") > 0)\n{\nreturn agent.match(regStr_chrome) ;\n}\n \n}\n//（2）然后获取版本号\nvar browser = getBrowserInfo() ;//返回的是个长度为1的数组，根据自己的需要进行转换\nvar verinfo = (browser+\"\").replace(/[^0-9.]/ig,\"\"); \n\nconsole.log(browser);\n\n    const res = await fetch('http://127.0.0.1:7000' + url, {\n        headers: {\n          'content-type': 'application/json',\n          'api-url': url,\n          'api-method': method\n        },\n        method: 'POST',\n        body: JSON.stringify(params),\n    });\n    return await res.json();\n}\n"]},"metadata":{},"sourceType":"module"}