{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport Avatar from '../components/others/avatar';\nimport Comment from '../components/Comment';\nimport httpAgent from '../httpAgent';\nimport React from 'React'; // export default function PostBody({ content, au_in_for, user_ip, com_user_info, slug }) {\n\nexport default class PostBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: this.props.content,\n      au_in_for: this.props.au_in_for,\n      user_ip: this.props.user_ip,\n      com_user_info: this.props.com_user_info,\n      slug: this.props.slug,\n      length: 0,\n      commentList: []\n    };\n  }\n\n  componentDidMount() {\n    httpAgent({\n      url: '/message/getCommentList',\n      method: 'post',\n      params: {\n        articleId: this.state.slug\n      }\n    }).then(res => {\n      let length = res.data.length;\n      res.data && res.data.forEach(element => {\n        length = length + element.child.length;\n      });\n      this.setState({\n        length,\n        commentList: res.data\n      });\n    });\n  }\n\n  render() {\n    const {\n      au_in_for,\n      content,\n      user_ip,\n      com_user_info,\n      slug,\n      commentList,\n      length\n    } = this.state;\n    const {\n      title\n    } = au_in_for;\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-125776006\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"jsx-125776006\" + \" \" + \"md-editor-container\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"jsx-125776006\",\n          children: title\n        }), /*#__PURE__*/_jsx(Avatar, {\n          au_in_for: au_in_for,\n          length: length\n        }), /*#__PURE__*/_jsx(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: content\n          },\n          className: \"jsx-125776006\" + \" \" + \"preview-container\"\n        })]\n      }), /*#__PURE__*/_jsx(Comment, {\n        commentList: commentList,\n        length: length,\n        slug: slug,\n        user_ip: user_ip,\n        com_user_info: com_user_info\n      }), /*#__PURE__*/_jsx(_JSXStyle, {\n        id: \"125776006\",\n        children: [\"h1.jsx-125776006{font-size:30px;font-weight:700;word-break:break-word;color:#404040;margin-bottom:.5em;line-height:1.42857;}\"]\n      })]\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}